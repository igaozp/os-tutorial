*你可能想提前 Google 的概念：汇编器、BIOS*

**目标：创建一个 BIOS 解释为可启动磁盘的文件**

这非常令人兴奋，我们将创建我们自己的引导扇区！

理论
------

当计算机启动时，BIOS 不知道如何加载操作系统，所以它将这个任务委托给引导扇区。因此，引导扇区必须放置在一个已知的标准位置。该位置是磁盘的第一个扇区（柱面 0，磁头 0，扇区 0），它占用 512 字节。

为了确保"磁盘是可启动的"，BIOS 检查所谓的引导扇区的第 511 和 512 字节是否为字节 `0xAA55`。

这是有史以来最简单的引导扇区：

```
e9 fd ff 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ 29 more lines with sixteen zero-bytes each ]
00 00 00 00 00 00 00 00 00 00 00 00 00 00 55 aa
```

它基本上都是零，以 16 位值 `0xAA55` 结尾（注意字节序，x86 是小端序）。前三个字节执行无限跳转。

有史以来最简单的引导扇区
-------------------------

你可以使用二进制编辑器编写上述 512 字节，或者只编写一个非常简单的汇编代码：

```nasm
; 无限循环 (e9 fd ff)
loop:
    jmp loop

; 用 510 个零填充减去前面代码的大小
times 510-($-$$) db 0
; 魔术数字
dw 0xaa55
```

编译：
`nasm -f bin boot_sect_simple.asm -o boot_sect_simple.bin`

> OSX 警告：如果出现错误，请重新阅读第 00 章

我知道你急于尝试它（我也是！），所以让我们开始吧：

`qemu boot_sect_simple.bin`

> 在某些系统上，你可能需要运行 `qemu-system-x86_64 boot_sect_simple.bin`。如果出现 SDL 错误，请尝试传递 --nographic 和/或 --curses 标志。

你会看到一个窗口打开，显示"Booting from Hard Disk..."，然后什么都没有。你上次看到无限循环如此兴奋是什么时候？;-)
