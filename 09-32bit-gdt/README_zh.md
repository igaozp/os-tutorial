*你可能想提前 Google 的概念：GDT*

**目标：编程 GDT**

记得第 6 课的分段吗？偏移被左移以寻址额外的间接级别。

在 32 位模式下，分段的工作方式不同。现在，偏移量成为 GDT 中段描述符（SD）的索引。此描述符定义基地址（32 位）、大小（20 位）和一些标志，如只读、权限等。为了增加混淆，数据结构被拆分，所以打开 os-dev.pdf 文件并查看第 34 页的图，或查看 GDT 的维基百科页面。

编程 GDT 的最简单方法是定义两个段，一个用于代码，另一个用于数据。这些可以重叠，这意味着没有内存保护，但对于启动来说已经足够好了，我们稍后会用更高级的语言修复这个问题。

有趣的是，第一个 GDT 条目必须是 `0x00`，以确保程序员在管理地址时没有犯任何错误。

此外，CPU 不能直接加载 GDT 地址，但它需要一个称为"GDT 描述符"的元结构，其中包含我们实际 GDT 的大小（16b）和地址（32b）。它使用 `lgdt` 操作加载。

让我们直接跳到汇编中的 GDT 代码。同样，要理解所有段标志，请参考 os-dev.pdf 文档。本课的理论相当复杂。

在下一课中，我们将切换到 32 位保护模式并测试这些课程的代码。
