*你可能想提前 Google 的概念：内存偏移、指针*

**目标：学习计算机内存是如何组织的**

请打开[此文档](http://www.cs.bham.ac.uk/~exr/lectures/opsys/10_11/lectures/os-dev.pdf)<sup>1</sup> 的第 14 页，查看内存布局的图示。

本课的唯一目标是学习引导扇区存储在哪里

我可以直接告诉你 BIOS 将它放在 `0x7C00`，然后就完事了，但是一个有错误解决方案的例子会让事情更清楚。

我们想在屏幕上打印一个 X。我们将尝试 4 种不同的策略，看看哪些有效以及为什么。

**打开文件 `boot_sect_memory.asm`**

首先，我们将 X 定义为数据，并带有一个标签：
```nasm
the_secret:
    db "X"
```

然后我们将尝试以许多不同的方式访问 `the_secret`：

1. `mov al, the_secret`
2. `mov al, [the_secret]`
3. `mov al, the_secret + 0x7C00`
4. `mov al, 2d + 0x7C00`，其中 `2d` 是二进制中 'X' 字节的实际位置

查看代码并阅读注释。

编译并运行代码。你应该看到一个类似于 `1[2¢3X4X` 的字符串，其中 1 和 2 后面的字节只是随机垃圾。

如果你添加或删除指令，记得通过计算字节来计算 X 的新偏移量，并用新的偏移量替换 `0x2d`。

除非你 100% 理解引导扇区偏移和内存寻址，否则请不要继续下一节。


全局偏移
-----------------

现在，由于到处偏移 `0x7c00` 非常不方便，汇编器让我们使用 `org` 命令为每个内存位置定义一个"全局偏移"：

```nasm
[org 0x7c00]
```

继续**打开 `boot_sect_memory_org.asm`**，你将看到使用引导扇区打印数据的规范方式，这是尝试 2。编译代码并运行它，你将看到 `org` 命令如何影响之前的每个解决方案。

阅读注释以获得关于有和没有 `org` 的更改的完整解释

-----

[1] 整个教程在很大程度上受到该文档的启发。请阅读根级 README 以获取有关该文档的更多信息。
